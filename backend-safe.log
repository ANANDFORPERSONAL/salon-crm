ğŸš€ Starting Ease My Salon Backend Server...
ğŸŒ Environment: development
ğŸ”— CORS Origins: [ 'http://localhost:3000', 'http://127.0.0.1:3000' ]
ğŸ—„ï¸ MongoDB URI: Not set
ğŸ”‘ JWT Secret: Not set
(node:20448) [MONGOOSE] Warning: Duplicate schema index on {"phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
ğŸš€ Ease My Salon Backend running on port 3001
ğŸ“Š Health check: http://localhost:3001/api/health
ğŸ” API Base: http://localhost:3001/api
â° Inactivity checker scheduled to run daily at 2 AM IST
MongoDB Connected: localhost
ğŸ“¥ Incoming GET /api/admin/profile
ğŸ“¥ Incoming GET /api/auth/profile
ğŸ” AuthenticateToken middleware called
ğŸ” JWT decoded successfully: {
  id: '6913aabeadc31441c53cb86b',
  email: 'shubhamanand222@gmail.com',
  role: 'admin',
  branchId: '6913aabeadc31441c53cb86f',
  iat: 1762896588,
  exp: 1762982988
}
ğŸ”— Connecting to main database: salon_crm_main (legacy - backward compatible)
âœ… Connected to main database: salon_crm_main
ğŸ”— Connecting to main database: salon_crm_main (legacy - backward compatible)
âœ… Connected to main database: salon_crm_main
ğŸ” User not found in main database, checking if it's a staff user
127.0.0.1 - - [11/Nov/2025:22:12:45 +0000] "GET /api/admin/profile HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ”— Connecting to business database: salon_crm_6913aabeadc31441c53cb86f (legacy - backward compatible)
âœ… Connected to business database: salon_crm_6913aabeadc31441c53cb86f
ğŸ” User not found in any database for ID: 6913aabeadc31441c53cb86b
127.0.0.1 - - [11/Nov/2025:22:12:45 +0000] "GET /api/auth/profile HTTP/1.1" 401 42 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:13:13 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:13:21 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:13:46 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:13:50 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:15:42 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:16:02 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:18:35 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "-" "curl/8.7.1"
ğŸ“¥ Incoming POST /api/admin/login
127.0.0.1 - - [11/Nov/2025:22:19:37 +0000] "POST /api/admin/login HTTP/1.1" 401 47 "-" "curl/8.7.1"
